{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ozhang/personal_projects/vibecoding/travel_map/src/components/map.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Map as GoogleMap, AdvancedMarker, InfoWindow } from \"@vis.gl/react-google-maps\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport type { Location } from \"@/app/page\";\r\n\r\ninterface MapProps {\r\n  locations: Location[];\r\n  selectedLocation: Location | null;\r\n}\r\n\r\n// Category to color mapping\r\nconst CATEGORY_COLORS: { [key: string]: string } = {\r\n  'Restaurant': '#FF6B6B',\r\n  'Tourist Attraction': '#4ECDC4',\r\n  'Hotel': '#45B7D1',\r\n  'Beach': '#F7DC6F',\r\n  'Museum': '#BB8FCE',\r\n  'Park': '#82E0AA',\r\n  'Shopping': '#F8C471',\r\n  'Entertainment': '#FF8A80',\r\n  'Transportation': '#90CAF9',\r\n  'Other': '#A0A0A0'\r\n};\r\n\r\n// Category to emoji mapping\r\nconst CATEGORY_EMOJIS: { [key: string]: string } = {\r\n  'Restaurant': 'üçΩÔ∏è',\r\n  'Tourist Attraction': 'üóº',\r\n  'Hotel': 'üè®',\r\n  'Beach': 'üèñÔ∏è',\r\n  'Museum': 'üèõÔ∏è',\r\n  'Park': 'üå≥',\r\n  'Shopping': 'üõçÔ∏è',\r\n  'Entertainment': 'üé≠',\r\n  'Transportation': 'üöå',\r\n  'Other': 'üìç'\r\n};\r\n\r\nexport default function Map({ locations, selectedLocation }: MapProps) {\r\n  const [center, setCenter] = useState({ lat: 20, lng: 0 });\r\n  const [zoom, setZoom] = useState(2);\r\n  const [activeMarker, setActiveMarker] = useState<string | null>(null);\r\n  const [mapInstance, setMapInstance] = useState<google.maps.Map | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (selectedLocation) {\r\n      setCenter({ lat: selectedLocation.lat, lng: selectedLocation.lng });\r\n      setZoom(12);\r\n      setActiveMarker(selectedLocation.id);\r\n    }\r\n  }, [selectedLocation]);\r\n\r\n  const handleMarkerClick = useCallback((location: Location) => {\r\n    setActiveMarker(activeMarker === location.id ? null : location.id);\r\n    setCenter({ lat: location.lat, lng: location.lng });\r\n    setZoom(Math.max(zoom, 10));\r\n  }, [activeMarker, zoom]);\r\n\r\n  const renderStars = (rating: number) => {\r\n    return (\r\n      <div className=\"flex items-center space-x-1\">\r\n        {[1, 2, 3, 4, 5].map((star) => (\r\n          <span\r\n            key={star}\r\n            className={`text-sm ${\r\n              star <= rating ? 'text-yellow-400' : 'text-gray-300'\r\n            }`}\r\n          >\r\n            ‚òÖ\r\n          </span>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const CustomMarker = ({ location }: { location: Location }) => {\r\n    const color = CATEGORY_COLORS[location.category] || CATEGORY_COLORS['Other'];\r\n    const emoji = CATEGORY_EMOJIS[location.category] || CATEGORY_EMOJIS['Other'];\r\n    \r\n    return (\r\n      <div\r\n        className=\"relative cursor-pointer transform transition-transform hover:scale-110\"\r\n        onClick={() => handleMarkerClick(location)}\r\n      >\r\n        <div\r\n          className=\"w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-white font-bold\"\r\n          style={{ backgroundColor: color }}\r\n        >\r\n          <span className=\"text-sm\">{emoji}</span>\r\n        </div>\r\n        {selectedLocation?.id === location.id && (\r\n          <div className=\"absolute -top-1 -left-1 w-10 h-10 rounded-full border-2 border-blue-500 animate-pulse\"></div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const fitBounds = useCallback(() => {\r\n    if (!mapInstance || locations.length === 0) return;\r\n    \r\n    const bounds = new google.maps.LatLngBounds();\r\n    locations.forEach(location => {\r\n      bounds.extend(new google.maps.LatLng(location.lat, location.lng));\r\n    });\r\n    \r\n    mapInstance.fitBounds(bounds);\r\n    \r\n    // Adjust zoom if there's only one location\r\n    if (locations.length === 1) {\r\n      mapInstance.setZoom(12);\r\n    }\r\n  }, [mapInstance, locations]);\r\n\r\n  return (\r\n    <div className=\"flex-grow h-full w-full\">\r\n      <GoogleMap\r\n        mapId={\"travel_map\"}\r\n        center={center}\r\n        zoom={zoom}\r\n        gestureHandling={\"greedy\"}\r\n        disableDefaultUI={false}\r\n        style={{ width: \"100%\", height: \"100%\" }}\r\n        zoomControl={true}\r\n        mapTypeControl={true}\r\n        scaleControl={true}\r\n        streetViewControl={true}\r\n        rotateControl={true}\r\n        fullscreenControl={true}\r\n      >\r\n        {locations.map((location) => (\r\n          <AdvancedMarker\r\n            key={location.id}\r\n            position={location}\r\n            title={location.name}\r\n          >\r\n            <CustomMarker location={location} />\r\n          </AdvancedMarker>\r\n        ))}\r\n\r\n        {/* Info Windows */}\r\n        {locations.map((location) => (\r\n          activeMarker === location.id && (\r\n            <InfoWindow\r\n              key={`info-${location.id}`}\r\n              position={location}\r\n              onCloseClick={() => setActiveMarker(null)}\r\n            >\r\n              <div className=\"p-3 max-w-xs\">\r\n                <h3 className=\"font-semibold text-lg mb-2\">{location.name}</h3>\r\n                \r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\">\r\n                      {location.category}\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600\">{location.dateVisited}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className=\"text-sm text-gray-600\">Rating:</span>\r\n                    {renderStars(location.rating)}\r\n                  </div>\r\n                  \r\n                  {location.notes && (\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600 font-medium mb-1\">Notes:</p>\r\n                      <p className=\"text-sm text-gray-700\">{location.notes}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </InfoWindow>\r\n          )\r\n        ))}\r\n      </GoogleMap>\r\n\r\n      {/* Map Controls */}\r\n      <div className=\"absolute top-4 left-4 space-y-2\">\r\n        <button\r\n          onClick={fitBounds}\r\n          className=\"bg-white shadow-lg rounded-lg p-3 hover:bg-gray-50 transition-colors\"\r\n          title=\"Fit all locations\"\r\n        >\r\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 8V4m0 0h4M4 4l5 5m11-5h-4m4 0v4m0-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5h-4m4 0v-4m0 4l-5-5\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <div className=\"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3\">\r\n        <h4 className=\"font-semibold text-sm mb-2\">Categories</h4>\r\n        <div className=\"grid grid-cols-2 gap-1 text-xs\">\r\n          {Object.entries(CATEGORY_COLORS).map(([category, color]) => (\r\n            <div key={category} className=\"flex items-center space-x-1\">\r\n              <div\r\n                className=\"w-3 h-3 rounded-full\"\r\n                style={{ backgroundColor: color }}\r\n              ></div>\r\n              <span>{category}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Location counter */}\r\n      <div className=\"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3\">\r\n        <div className=\"text-sm font-medium text-gray-700\">\r\n          {locations.length} locations\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ozhang/personal_projects/vibecoding/travel_map/src/components/location-search.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRef, useEffect, useState } from \"react\";\r\nimport { useMapsLibrary } from \"@vis.gl/react-google-maps\";\r\nimport type { Location } from \"@/app/page\";\r\nimport { LOCATION_CATEGORIES } from \"@/app/page\";\r\n\r\ninterface LocationSearchProps {\r\n  onPlaceSelect: (location: Omit<Location, 'id'>) => void;\r\n}\r\n\r\nexport default function LocationSearch({ onPlaceSelect }: LocationSearchProps) {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const [selectedPlace, setSelectedPlace] = useState<google.maps.places.PlaceResult | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [locationData, setLocationData] = useState({\r\n    category: 'Other',\r\n    notes: '',\r\n    dateVisited: new Date().toISOString().split('T')[0],\r\n    rating: 3\r\n  });\r\n  const places = useMapsLibrary(\"places\");\r\n\r\n  useEffect(() => {\r\n    if (!places || !inputRef.current) return;\r\n\r\n    const autocomplete = new places.Autocomplete(inputRef.current, {\r\n      fields: [\"name\", \"geometry\", \"formatted_address\", \"types\"],\r\n    });\r\n\r\n    autocomplete.addListener(\"place_changed\", () => {\r\n      const place = autocomplete.getPlace();\r\n      if (!place.geometry?.location) return;\r\n\r\n      setSelectedPlace(place);\r\n      setShowModal(true);\r\n\r\n      // Clear the input\r\n      if(inputRef.current) {\r\n        inputRef.current.value = \"\";\r\n      }\r\n    });\r\n  }, [places]);\r\n\r\n  const handleSubmit = () => {\r\n    if (!selectedPlace?.geometry?.location) return;\r\n\r\n    const newLocation: Omit<Location, 'id'> = {\r\n      name: selectedPlace.name!,\r\n      lat: selectedPlace.geometry.location.lat(),\r\n      lng: selectedPlace.geometry.location.lng(),\r\n      category: locationData.category,\r\n      notes: locationData.notes,\r\n      dateVisited: locationData.dateVisited,\r\n      rating: locationData.rating\r\n    };\r\n\r\n    onPlaceSelect(newLocation);\r\n    setShowModal(false);\r\n    setSelectedPlace(null);\r\n    setLocationData({\r\n      category: 'Other',\r\n      notes: '',\r\n      dateVisited: new Date().toISOString().split('T')[0],\r\n      rating: 3\r\n    });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowModal(false);\r\n    setSelectedPlace(null);\r\n    setLocationData({\r\n      category: 'Other',\r\n      notes: '',\r\n      dateVisited: new Date().toISOString().split('T')[0],\r\n      rating: 3\r\n    });\r\n  };\r\n\r\n  const renderStars = (rating: number, onRatingChange: (rating: number) => void) => {\r\n    return (\r\n      <div className=\"flex items-center space-x-1\">\r\n        {[1, 2, 3, 4, 5].map((star) => (\r\n          <button\r\n            key={star}\r\n            onClick={() => onRatingChange(star)}\r\n            className={`text-lg ${\r\n              star <= rating ? 'text-yellow-400' : 'text-gray-300'\r\n            } hover:text-yellow-500 cursor-pointer transition-colors`}\r\n            type=\"button\"\r\n          >\r\n            ‚òÖ\r\n          </button>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relative\">\r\n        <input\r\n          ref={inputRef}\r\n          type=\"text\"\r\n          placeholder=\"Search for a location...\"\r\n          className=\"w-full p-3 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        />\r\n        <div className=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\">\r\n          <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Add Location Details</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Location: {selectedPlace?.name}\r\n                </label>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Category\r\n                </label>\r\n                <select\r\n                  value={locationData.category}\r\n                  onChange={(e) => setLocationData({...locationData, category: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                  {LOCATION_CATEGORIES.map(category => (\r\n                    <option key={category} value={category}>{category}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Date Visited\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={locationData.dateVisited}\r\n                  onChange={(e) => setLocationData({...locationData, dateVisited: e.target.value})}\r\n                  className=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Rating\r\n                </label>\r\n                {renderStars(locationData.rating, (rating) => setLocationData({...locationData, rating}))}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Notes\r\n                </label>\r\n                <textarea\r\n                  value={locationData.notes}\r\n                  onChange={(e) => setLocationData({...locationData, notes: e.target.value})}\r\n                  placeholder=\"Add any notes about this location...\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded-lg h-24 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3 mt-6\">\r\n              <button\r\n                onClick={handleCancel}\r\n                className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSubmit}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Add Location\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;;;AALA;;;;AAWe,SAAS,eAAe,EAAE,aAAa,EAAuB;;IAC3E,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAyC;IAC1F,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC/C,UAAU;QACV,OAAO;QACP,aAAa,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACnD,QAAQ;IACV;IACA,MAAM,SAAS,CAAA,GAAA,qLAAA,CAAA,iBAAc,AAAD,EAAE;IAE9B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,CAAC,UAAU,CAAC,SAAS,OAAO,EAAE;YAElC,MAAM,eAAe,IAAI,OAAO,YAAY,CAAC,SAAS,OAAO,EAAE;gBAC7D,QAAQ;oBAAC;oBAAQ;oBAAY;oBAAqB;iBAAQ;YAC5D;YAEA,aAAa,WAAW,CAAC;4CAAiB;oBACxC,MAAM,QAAQ,aAAa,QAAQ;oBACnC,IAAI,CAAC,MAAM,QAAQ,EAAE,UAAU;oBAE/B,iBAAiB;oBACjB,aAAa;oBAEb,kBAAkB;oBAClB,IAAG,SAAS,OAAO,EAAE;wBACnB,SAAS,OAAO,CAAC,KAAK,GAAG;oBAC3B;gBACF;;QACF;mCAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,IAAI,CAAC,eAAe,UAAU,UAAU;QAExC,MAAM,cAAoC;YACxC,MAAM,cAAc,IAAI;YACxB,KAAK,cAAc,QAAQ,CAAC,QAAQ,CAAC,GAAG;YACxC,KAAK,cAAc,QAAQ,CAAC,QAAQ,CAAC,GAAG;YACxC,UAAU,aAAa,QAAQ;YAC/B,OAAO,aAAa,KAAK;YACzB,aAAa,aAAa,WAAW;YACrC,QAAQ,aAAa,MAAM;QAC7B;QAEA,cAAc;QACd,aAAa;QACb,iBAAiB;QACjB,gBAAgB;YACd,UAAU;YACV,OAAO;YACP,aAAa,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACnD,QAAQ;QACV;IACF;IAEA,MAAM,eAAe;QACnB,aAAa;QACb,iBAAiB;QACjB,gBAAgB;YACd,UAAU;YACV,OAAO;YACP,aAAa,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YACnD,QAAQ;QACV;IACF;IAEA,MAAM,cAAc,CAAC,QAAgB;QACnC,qBACE,6LAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,qBACpB,6LAAC;oBAEC,SAAS,IAAM,eAAe;oBAC9B,WAAW,CAAC,QAAQ,EAClB,QAAQ,SAAS,oBAAoB,gBACtC,uDAAuD,CAAC;oBACzD,MAAK;8BACN;mBANM;;;;;;;;;;IAYf;IAEA,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,KAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,WAAU;;;;;;kCAEZ,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;4BAAwB,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAC/E,cAAA,6LAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;YAM1E,2BACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAE3C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;8CACC,cAAA,6LAAC;wCAAM,WAAU;;4CAA+C;4CACnD,eAAe;;;;;;;;;;;;8CAI9B,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,OAAO,aAAa,QAAQ;4CAC5B,UAAU,CAAC,IAAM,gBAAgB;oDAAC,GAAG,YAAY;oDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gDAAA;4CAC3E,WAAU;sDAET,sHAAA,CAAA,sBAAmB,CAAC,GAAG,CAAC,CAAA,yBACvB,6LAAC;oDAAsB,OAAO;8DAAW;mDAA5B;;;;;;;;;;;;;;;;8CAKnB,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,MAAK;4CACL,OAAO,aAAa,WAAW;4CAC/B,UAAU,CAAC,IAAM,gBAAgB;oDAAC,GAAG,YAAY;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAA;4CAC9E,WAAU;;;;;;;;;;;;8CAId,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;wCAG/D,YAAY,aAAa,MAAM,EAAE,CAAC,SAAW,gBAAgB;gDAAC,GAAG,YAAY;gDAAE;4CAAM;;;;;;;8CAGxF,6LAAC;;sDACC,6LAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,6LAAC;4CACC,OAAO,aAAa,KAAK;4CACzB,UAAU,CAAC,IAAM,gBAAgB;oDAAC,GAAG,YAAY;oDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAA;4CACxE,aAAY;4CACZ,WAAU;;;;;;;;;;;;;;;;;;sCAKhB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GAtLwB;;QAUP,qLAAA,CAAA,iBAAc;;;KAVP","debugId":null}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ozhang/personal_projects/vibecoding/travel_map/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef } from \"react\";\r\nimport type { Location } from \"@/app/page\";\r\nimport { LOCATION_CATEGORIES } from \"@/app/page\";\r\nimport LocationSearch from \"./location-search\";\r\n\r\ninterface SidebarProps {\r\n  locations: Location[];\r\n  onAddLocation: (location: Omit<Location, 'id'>) => void;\r\n  onUpdateLocation: (id: string, updates: Partial<Location>) => void;\r\n  onDeleteLocation: (id: string) => void;\r\n  onSelectLocation: (location: Location) => void;\r\n  onExportLocations: () => void;\r\n  onImportLocations: (file: File) => void;\r\n}\r\n\r\ntype SortOption = 'name' | 'date' | 'rating' | 'category';\r\n\r\nexport default function Sidebar({\r\n  locations,\r\n  onAddLocation,\r\n  onUpdateLocation,\r\n  onDeleteLocation,\r\n  onSelectLocation,\r\n  onExportLocations,\r\n  onImportLocations,\r\n}: SidebarProps) {\r\n  const [filterCategory, setFilterCategory] = useState<string>('all');\r\n  const [sortBy, setSortBy] = useState<SortOption>('date');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [editingLocation, setEditingLocation] = useState<string | null>(null);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const filteredAndSortedLocations = locations\r\n    .filter(location => {\r\n      const matchesCategory = filterCategory === 'all' || location.category === filterCategory;\r\n      const matchesSearch = location.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                           location.notes.toLowerCase().includes(searchQuery.toLowerCase());\r\n      return matchesCategory && matchesSearch;\r\n    })\r\n    .sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'name':\r\n          return a.name.localeCompare(b.name);\r\n        case 'date':\r\n          return new Date(b.dateVisited).getTime() - new Date(a.dateVisited).getTime();\r\n        case 'rating':\r\n          return b.rating - a.rating;\r\n        case 'category':\r\n          return a.category.localeCompare(b.category);\r\n        default:\r\n          return 0;\r\n      }\r\n    });\r\n\r\n  const handleFileImport = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      onImportLocations(file);\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  const handleLocationEdit = (location: Location, field: keyof Location, value: string | number) => {\r\n    onUpdateLocation(location.id, { [field]: value });\r\n  };\r\n\r\n  const renderStars = (rating: number, editable: boolean = false, onRatingChange?: (rating: number) => void) => {\r\n    return (\r\n      <div className=\"flex items-center space-x-1\">\r\n        {[1, 2, 3, 4, 5].map((star) => (\r\n          <button\r\n            key={star}\r\n            onClick={() => editable && onRatingChange?.(star)}\r\n            className={`text-sm ${\r\n              star <= rating ? 'text-yellow-400' : 'text-gray-300'\r\n            } ${editable ? 'hover:text-yellow-500 cursor-pointer' : ''}`}\r\n            disabled={!editable}\r\n          >\r\n            ‚òÖ\r\n          </button>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-[400px] bg-white border-r border-gray-200 flex flex-col shadow-xl\">\r\n      {/* Header */}\r\n      <div className=\"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\r\n        <h1 className=\"text-2xl font-bold\">Travel Map</h1>\r\n        <p className=\"text-blue-100 mt-1\">{locations.length} locations visited</p>\r\n      </div>\r\n\r\n      {/* Search and Add Location */}\r\n      <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\r\n        <LocationSearch onPlaceSelect={onAddLocation} />\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"p-4 border-b border-gray-200 bg-gray-50 space-y-3\">\r\n        {/* Search Filter */}\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search locations...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full p-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        {/* Category Filter and Sort */}\r\n        <div className=\"flex space-x-2\">\r\n          <select\r\n            value={filterCategory}\r\n            onChange={(e) => setFilterCategory(e.target.value)}\r\n            className=\"flex-1 p-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">All Categories</option>\r\n            {LOCATION_CATEGORIES.map(category => (\r\n              <option key={category} value={category}>{category}</option>\r\n            ))}\r\n          </select>\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value as SortOption)}\r\n            className=\"flex-1 p-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"date\">Sort by Date</option>\r\n            <option value=\"name\">Sort by Name</option>\r\n            <option value=\"rating\">Sort by Rating</option>\r\n            <option value=\"category\">Sort by Category</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Import/Export */}\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={onExportLocations}\r\n            className=\"flex-1 bg-green-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-green-600 transition-colors\"\r\n          >\r\n            Export\r\n          </button>\r\n          <button\r\n            onClick={() => fileInputRef.current?.click()}\r\n            className=\"flex-1 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors\"\r\n          >\r\n            Import\r\n          </button>\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\".json\"\r\n            onChange={handleFileImport}\r\n            className=\"hidden\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Location List */}\r\n      <div className=\"flex-1 overflow-y-auto\">\r\n        {filteredAndSortedLocations.length === 0 ? (\r\n          <div className=\"p-6 text-center text-gray-500\">\r\n            {locations.length === 0 ? (\r\n              <div>\r\n                <p className=\"text-lg font-medium\">No locations yet</p>\r\n                <p className=\"text-sm mt-2\">Search for a location above to get started!</p>\r\n              </div>\r\n            ) : (\r\n              <p>No locations match your current filters</p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <ul className=\"divide-y divide-gray-200\">\r\n            {filteredAndSortedLocations.map((location) => (\r\n              <li key={location.id} className=\"p-4 hover:bg-gray-50 transition-colors\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <button\r\n                        onClick={() => onSelectLocation(location)}\r\n                        className=\"text-left font-medium text-gray-900 hover:text-blue-600 transition-colors truncate\"\r\n                      >\r\n                        {location.name}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => setEditingLocation(editingLocation === location.id ? null : location.id)}\r\n                        className=\"text-gray-400 hover:text-gray-600 p-1\"\r\n                      >\r\n                        {editingLocation === location.id ? '‚úì' : '‚úé'}\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\r\n                        <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\">\r\n                          {location.category}\r\n                        </span>\r\n                        <span>‚Ä¢</span>\r\n                        <span>{location.dateVisited}</span>\r\n                      </div>\r\n\r\n                      {editingLocation === location.id ? (\r\n                        <div className=\"space-y-2\">\r\n                          <select\r\n                            value={location.category}\r\n                            onChange={(e) => handleLocationEdit(location, 'category', e.target.value)}\r\n                            className=\"w-full p-2 border border-gray-300 rounded text-sm\"\r\n                          >\r\n                            {LOCATION_CATEGORIES.map(category => (\r\n                              <option key={category} value={category}>{category}</option>\r\n                            ))}\r\n                          </select>\r\n                          <input\r\n                            type=\"date\"\r\n                            value={location.dateVisited}\r\n                            onChange={(e) => handleLocationEdit(location, 'dateVisited', e.target.value)}\r\n                            className=\"w-full p-2 border border-gray-300 rounded text-sm\"\r\n                          />\r\n                          <textarea\r\n                            value={location.notes}\r\n                            onChange={(e) => handleLocationEdit(location, 'notes', e.target.value)}\r\n                            placeholder=\"Add notes...\"\r\n                            className=\"w-full p-2 border border-gray-300 rounded text-sm h-20 resize-none\"\r\n                          />\r\n                          <div className=\"flex items-center space-x-2\">\r\n                            <span className=\"text-sm text-gray-600\">Rating:</span>\r\n                            {renderStars(location.rating, true, (rating) => handleLocationEdit(location, 'rating', rating))}\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"space-y-1\">\r\n                          {location.notes && (\r\n                            <p className=\"text-sm text-gray-600 line-clamp-2\">{location.notes}</p>\r\n                          )}\r\n                          {renderStars(location.rating)}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={() => onDeleteLocation(location.id)}\r\n                    className=\"ml-3 text-red-500 hover:text-red-700 p-1 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                  >\r\n                    üóëÔ∏è\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1309, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ozhang/personal_projects/vibecoding/travel_map/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { APIProvider } from \"@vis.gl/react-google-maps\";\r\nimport Map from \"@/components/map\";\r\nimport Sidebar from \"@/components/sidebar\";\r\n\r\nexport interface Location {\r\n  id: string;\r\n  name: string;\r\n  lat: number;\r\n  lng: number;\r\n  category: string;\r\n  notes: string;\r\n  dateVisited: string;\r\n  rating: number;\r\n}\r\n\r\nexport const LOCATION_CATEGORIES = [\r\n  \"Restaurant\",\r\n  \"Tourist Attraction\",\r\n  \"Hotel\",\r\n  \"Beach\",\r\n  \"Museum\",\r\n  \"Park\",\r\n  \"Shopping\",\r\n  \"Entertainment\",\r\n  \"Transportation\",\r\n  \"Other\"\r\n];\r\n\r\nconst LOCATION_STORAGE_KEY = \"visited_locations\";\r\n\r\nexport default function Home() {\r\n  const [locations, setLocations] = useState<Location[]>([]);\r\n  const [selectedLocation, setSelectedLocation] = useState<Location | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Load locations from localStorage on initial render\r\n  useEffect(() => {\r\n    try {\r\n      const savedLocations = localStorage.getItem(LOCATION_STORAGE_KEY);\r\n      if (savedLocations) {\r\n        const parsedLocations = JSON.parse(savedLocations);\r\n        // Migrate old locations to new format\r\n        const migratedLocations = parsedLocations.map((location: any, index: number) => ({\r\n          id: location.id || `location-${index}`,\r\n          name: location.name,\r\n          lat: location.lat,\r\n          lng: location.lng,\r\n          category: location.category || \"Other\",\r\n          notes: location.notes || \"\",\r\n          dateVisited: location.dateVisited || new Date().toISOString().split('T')[0],\r\n          rating: location.rating || 3\r\n        }));\r\n        setLocations(migratedLocations);\r\n      }\r\n    } catch (err) {\r\n      setError(\"Failed to load saved locations\");\r\n      console.error(\"Error loading locations:\", err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Save locations to localStorage whenever they change\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      try {\r\n        localStorage.setItem(LOCATION_STORAGE_KEY, JSON.stringify(locations));\r\n      } catch (err) {\r\n        setError(\"Failed to save locations\");\r\n        console.error(\"Error saving locations:\", err);\r\n      }\r\n    }\r\n  }, [locations, isLoading]);\r\n\r\n  const addLocation = (locationData: Omit<Location, 'id'>) => {\r\n    const newLocation: Location = {\r\n      ...locationData,\r\n      id: `location-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\r\n    };\r\n    const newLocations = [...locations, newLocation];\r\n    setLocations(newLocations);\r\n    setSelectedLocation(newLocation);\r\n  };\r\n\r\n  const updateLocation = (id: string, updates: Partial<Location>) => {\r\n    setLocations(locations.map(loc => \r\n      loc.id === id ? { ...loc, ...updates } : loc\r\n    ));\r\n  };\r\n\r\n  const deleteLocation = (id: string) => {\r\n    const newLocations = locations.filter(loc => loc.id !== id);\r\n    setLocations(newLocations);\r\n    if (selectedLocation?.id === id) {\r\n      setSelectedLocation(null);\r\n    }\r\n  };\r\n\r\n  const exportLocations = () => {\r\n    const dataStr = JSON.stringify(locations, null, 2);\r\n    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\r\n    const exportFileDefaultName = `travel-map-locations-${new Date().toISOString().split('T')[0]}.json`;\r\n    \r\n    const linkElement = document.createElement('a');\r\n    linkElement.setAttribute('href', dataUri);\r\n    linkElement.setAttribute('download', exportFileDefaultName);\r\n    linkElement.click();\r\n  };\r\n\r\n  const importLocations = (file: File) => {\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const importedLocations = JSON.parse(e.target?.result as string);\r\n        if (Array.isArray(importedLocations)) {\r\n          setLocations(importedLocations);\r\n          setError(null);\r\n        } else {\r\n          setError(\"Invalid file format\");\r\n        }\r\n      } catch (err) {\r\n        setError(\"Failed to import locations\");\r\n        console.error(\"Error importing locations:\", err);\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading your travel map...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <APIProvider apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!}>\r\n      <div className=\"flex h-screen font-sans bg-gray-50\">\r\n        {error && (\r\n          <div className=\"absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50\">\r\n            {error}\r\n            <button \r\n              onClick={() => setError(null)}\r\n              className=\"ml-2 hover:bg-red-600 px-2 py-1 rounded\"\r\n            >\r\n              √ó\r\n            </button>\r\n          </div>\r\n        )}\r\n        <Sidebar\r\n          locations={locations}\r\n          onAddLocation={addLocation}\r\n          onUpdateLocation={updateLocation}\r\n          onDeleteLocation={deleteLocation}\r\n          onSelectLocation={setSelectedLocation}\r\n          onExportLocations={exportLocations}\r\n          onImportLocations={importLocations}\r\n        />\r\n        <Map locations={locations} selectedLocation={selectedLocation} />\r\n      </div>\r\n    </APIProvider>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}